!function(){const e="[data-address]",t="aria-expanded";class n{constructor(){this.elements=this._getElements(),0!==Object.keys(this.elements).length&&(this._setupCountries(),this._setupEventListeners())}_getElements(){const t=document.querySelector("[data-customer-addresses]");return t?{container:t,addressContainer:t.querySelector(e),toggleButtons:document.querySelectorAll("button[aria-expanded]"),cancelButtons:t.querySelectorAll('button[type="reset"]'),deleteButtons:t.querySelectorAll("button[data-confirm-message]"),countrySelects:t.querySelectorAll("[data-address-country-select]")}:{}}_setupCountries(){Shopify&&Shopify.CountryProvinceSelector&&(new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),this.elements.countrySelects.forEach((e=>{const t=e.dataset.formId;new Shopify.CountryProvinceSelector(`AddressCountry_${t}`,`AddressProvince_${t}`,{hideElement:`AddressProvinceContainer_${t}`})})))}_setupEventListeners(){this.elements.toggleButtons.forEach((e=>{e.addEventListener("click",this._handleAddEditButtonClick)})),this.elements.cancelButtons.forEach((e=>{e.addEventListener("click",this._handleCancelButtonClick)})),this.elements.deleteButtons.forEach((e=>{e.addEventListener("click",this._handheroleteButtonClick)}))}_toggleExpanded(e){e.setAttribute(t,("false"===e.getAttribute(t)).toString())}_handleAddEditButtonClick=e=>{let{currentTarget:t}=e;this._toggleExpanded(t)};_handleCancelButtonClick=n=>{let{currentTarget:r}=n;this._toggleExpanded(r.closest(e).querySelector(`[${t}]`))};_handheroleteButtonClick=e=>{let{currentTarget:t}=e;confirm(t.getAttribute("data-confirm-message"))&&Shopify.postLink(t.dataset.target,{parameters:{_method:"delete"}})}}window.onload=()=>{void 0!==n&&new n}}();