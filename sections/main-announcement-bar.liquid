{%- if section.settings.text and section.settings.text != '' or section.settings.menu and section.settings.menu != '' -%}
  <section class="top-menu text-xs {{ section.settings.display_visibility }}">
      <div class="container {% if section.settings.text and section.settings.menu == nil %}center{% endif %}">
          {%- if section.settings.text and section.settings.text != '' -%}
            <div class="top-menu__left">
              {%- if section.settings.link -%}
                <a href="{{ section.settings.link }}">
              {%- endif -%}
              {%- if section.settings.text -%}
                <p>{{ section.settings.text }}</p>
              {%- endif -%}
              {%- if section.settings.link -%}
                </a>
              {%- endif -%}
            </div>
          {%- endif -%}

          {%- if section.settings.menu -%}
            <div class="top-menu__right">
              {%- for link in section.settings.menu.links -%}
                <a href="{{ link.url }}">{{ link.title }}</a>
              {%- endfor -%}
            </div>
          {%- endif -%}
      </div>
  </section>
{%- endif -%}

{%- if section.settings.color_text and section.settings.color_text != '' and section.settings.color_text != 'rgba(0,0,0,0)' -%}
  <style>
    #shopify-section-main-announcement-bar .top-menu a,
    #shopify-section-main-announcement-bar .top-menu p {
      color: {{ section.settings.color_text }}
    }
  </style>
{%- endif -%}

{%- if section.settings.color_background and section.settings.color_background != '' and section.settings.color_background != 'rgba(0,0,0,0)' or section.settings.color_background_gradient != '' and section.settings.color_background_gradient != 'rgba(0,0,0,0)' -%}
  <style>
    #shopify-section-main-announcement-bar .top-menu {
      background: {% if section.settings.color_background_gradient != '' %}{{ section.settings.color_background_gradient }}{% elsif section.settings.color_background != '' and section.settings.color_background != 'rgba(0,0,0,0)' %}{{ section.settings.color_background }}{% endif %};
    }
  </style>
{%- endif -%}

{% schema %}
{
  "name": "t:name.announcement_bar",
  "tag": "div",
  "settings": [
    { "type": "paragraph", "content": "t:info.intro_section_announcement_bar" },
    {
      "type": "text",
      "id": "text",
      "label": "t:label.text_announcement",
      "default": "Welcome to our store"
    },
    { "type": "url", "id": "link", "label": "t:label.link_announcement" },
    {
      "type": "link_list",
      "id": "menu",
      "label": "t:label.secondary_menu",
      "info": "t:info.secondary_menu"
    },
    { "type": "header", "content": "t:info.header_color_settings" },
    { "type": "paragraph", "content": "t:info.intro_color_settings" },
    { "type": "color", "id": "color_text", "label": "t:label.text_color" },
    { "type": "color", "id": "color_background", "label": "t:label.background_color" },
    {
      "type": "color_background",
      "id": "color_background_gradient",
      "label": "t:label.background_gradient"
    },
    { "type": "header", "content": "t:info.header_section_padding_settings" },
    { "type": "paragraph", "content": "t:info.intro_section_padding_settings" },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "t:label.top_padding_desktop_0",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "t:label.bottom_padding_desktop_0",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "t:label.top_padding_mobile_0",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "t:label.bottom_padding_mobile_0",
      "default": 0
    },
    { "type": "header", "content": "t:info.header_separator_settings" },
    { "type": "paragraph", "content": "t:info.intro_separator_settings" },
    {
      "type": "select",
      "id": "style_line_top",
      "label": "t:label.top_separator_style",
      "options": [
        { "value": "dashed", "label": "t:label.dashed" },
        { "value": "dotted", "label": "t:label.dotted" },
        { "value": "line", "label": "t:label.line" },
        { "value": "none", "label": "t:label.none" }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "style_line_bottom",
      "label": "t:label.bottom_separator_style",
      "options": [
        { "value": "dashed", "label": "t:label.dashed" },
        { "value": "dotted", "label": "t:label.dotted" },
        { "value": "line", "label": "t:label.line" },
        { "value": "none", "label": "t:label.none" }
      ],
      "default": "none"
    },
    { "type": "color", "id": "color_line", "label": "t:label.separator_color" },
    { "type": "header", "content": "t:info.header_visibility_settings" },
    { "type": "paragraph", "content": "t:info.intro_visibility_settings" },
    {
      "type": "radio",
      "id": "display_visibility",
      "label": "t:label.visibility",
      "options": [
        { "value": "hide-no", "label": "t:label.do_not_hide" },
        { "value": "hide-desktop", "label": "t:label.hide_on_desktop" },
        { "value": "hide-mobile", "label": "t:label.hide_on_mobile" }
      ],
      "default": "hide-no"
    }
  ]
}
{% endschema %}
